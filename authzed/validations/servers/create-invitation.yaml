schemaFile: "../../beep.zed"
relationships: |-
  // Server setup
  server:test_server#owner@user:owner

  // Roles setup
  role:admin#server@server:test_server
  role:admin#member@user:admin_user

  role:moderator#server@server:test_server
  role:moderator#member@user:mod_user

  role:member#server@server:test_server
  role:member#member@user:regular_user

  // Create invitation permission assignment
  server:test_server#invitation_creator@role:moderator#member

assertions:
  assertTrue:
    # Owner always has create_invitation permission
    - server:test_server#create_invitation@user:owner

    # Moderator role has create_invitation permission
    - server:test_server#create_invitation@user:mod_user

  assertFalse:
    # Admin does not have create_invitation permission (not assigned)
    - server:test_server#create_invitation@user:admin_user

    # Regular member does not have create_invitation permission
    - server:test_server#create_invitation@user:regular_user
