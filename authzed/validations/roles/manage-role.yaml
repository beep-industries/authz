schemaFile: "../../beep.zed"
relationships: |-
  // Server setup
  server:test_server#owner@user:owner

  // Roles setup
  role:admin#server@server:test_server
  role:admin#member@user:admin_user
  
  role:manager#server@server:test_server
  role:manager#member@user:manager_user
  
  role:member#server@server:test_server
  role:member#member@user:member_user1
  role:member#member@user:member_user2

  // Role management permissions - only admins can manage roles by default
  server:test_server#role_manager@role:admin#member

assertions:
  assertTrue:
    - server:test_server#manage_role@user:owner       # Server owner can manage roles
    - role:admin#manage@user:admin_user  # Admin with role_manager can manage roles

  assertFalse:
    - role:manager#manage@user:manager_user # Manager without permission cannot manage roles
    - role:member#manage@user:member_user1 # Regular member cannot manage roles
    - role:member#manage@user:member_user2 # Another member without permission
